const C='{% block easycredit_settings_icon %} <svg viewBox="0 0 120 121" fill="none" xmlns="http://www.w3.org/2000/svg" style="min-width: 16px; min-height:16px;"> <g clip-path="url(#clip0_1041_50174)"> <path d="M60 120.484C93.1371 120.484 120 93.6215 120 60.4844C120 27.3473 93.1371 0.484375 60 0.484375C26.8629 0.484375 0 27.3473 0 60.4844C0 93.6215 26.8629 120.484 60 120.484Z" fill="#0066B3"/> <path d="M96.1095 51.3944C93.8014 50.6093 89.5658 49.7183 82.4649 49.7183C75.9977 49.6843 69.7456 52.0382 64.9066 56.3288C64.3829 56.7828 63.782 57.1392 63.1324 57.3809C58.6729 58.8889 53.977 59.5767 49.2724 59.4109H49.1349C44.4559 59.4109 41.5197 58.6257 39.8043 57.2209C38.2343 55.9214 37.5864 53.9901 37.7043 51.2658H68.6122L68.7104 50.8182C69.3452 48.1266 69.7497 45.3858 69.9194 42.6256C69.9194 36.2622 67.792 31.3083 64.1058 27.9519C60.4196 24.5955 55.2621 22.8801 49.2916 22.8801C39.2033 22.8801 32.3694 26.9548 28.0716 32.3879C24.2175 37.3883 22.103 43.5112 22.0501 49.8244C21.9908 52.5837 22.4979 55.326 23.5402 57.8816C24.5826 60.4372 26.1379 62.752 28.1101 64.6828C32.106 68.5063 37.9707 70.8538 45.5386 70.8538C49.1684 70.8621 52.7954 70.6523 56.4001 70.2256C55.7652 72.5931 55.4407 75.0332 55.4347 77.4844C55.4347 83.5335 57.4761 88.676 61.3227 92.3544C65.2483 96.1072 70.8771 98.0896 77.5739 98.0896C80.8728 98.0575 84.1569 97.6424 87.3601 96.8527L88.6711 96.5151L91.6034 82.383L87.6778 84.2044C85.0083 85.3824 82.1164 85.9715 79.1988 85.9316C76.9357 86.0686 74.701 85.3701 72.9188 83.9687C71.3956 82.6066 70.6223 80.5299 70.6223 77.7898C70.6879 73.9933 71.8942 70.3044 74.0844 67.2028C75.1943 65.5673 76.6873 64.228 78.4333 63.3016C80.1793 62.3752 82.1253 61.8898 84.1019 61.8876C87.1587 61.8029 90.2086 62.2207 93.1301 63.1244L95.442 63.9095L97.9501 52.0111L96.1095 51.3944ZM38.8619 42.0362C39.5316 39.7569 40.9375 37.7637 42.86 36.3681C44.7825 34.9725 47.1132 34.2531 49.4878 34.3225C50.5166 34.2406 51.5496 34.4159 52.4939 34.8325C53.4381 35.2492 54.2639 35.8941 54.897 36.7093C55.9166 38.2967 56.4451 40.1497 56.4161 42.0362H38.8619Z" fill="white"/> </g> <defs> <clipPath id="clip0_1041_50174"> <rect width="120" height="120" fill="white" transform="translate(0 0.484375)"/> </clipPath> </defs> </svg> {% endblock %}',{Component:v}=Shopware;v.register("easycredit-settings-icon",{template:C});const{Module:k}=Shopware;k.register("netzkollektiv-easycredit",{type:"plugin",name:"EasyCreditRatenkauf",title:"easycredit.general.mainMenuItemGeneral",description:"easycredit.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"default-action-settings",routes:{index:{component:"easycredit",path:"index",meta:{parentPath:"sw.settings.index"}}},settingsItem:{group:"plugins",to:{name:"sw.extension.config",params:{namespace:"EasyCreditRatenkauf"}},iconComponent:"easycredit-settings-icon",backgroundEnabled:!0,privilege:"system.system_config"}});const w=`<easycredit-merchant-manager v-if="isEasyCreditPayment && componentType == 'manager'" :tx-id="transactionId" :date="transactionDate" /> <easycredit-merchant-status-widget v-else-if="isEasyCreditPayment && componentType == 'status'" :tx-id="transactionId" :date="transactionDate" />`,b="handler_netzkollektiv_",s=e=>e.formattedHandlerIdentifier.startsWith(b),{Component:_,Context:S}=Shopware;_.register("easycredit-tx-widget",{template:w,props:{order:Object,componentType:{type:String,default:"status"}},created(){this.initRequestConfig()},computed:{isEasyCreditPayment(){let e=this.order.transactions;return e.length==1&&s(e[0].paymentMethod)},transactionId(){return this.order.transactions[0].customFields.easycredit_transaction_id},transactionDate(){return this.order.transactions[0].createdAt}},methods:{initRequestConfig(){window.ratenkaufbyeasycreditOrderManagementConfig={endpoints:{get:"api/v2/easycredit/transaction/{transactionId}",capture:"api/v2/easycredit/transaction/{transactionId}/capture",refund:"api/v2/easycredit/transaction/{transactionId}/refund"},request_config:{headers:{"Content-Type":"application/json",Authorization:"Bearer "+S.api.authToken.access}}}}}});const I=`<div> <sw-alert variant="info" :showIcon="false" v-if="billPaymentActive && !paymentMethodStatuses['easycredit_rechnung']" > <span class="badge">{{ $tc('easycredit-payment.intro.introAlert.new') }}</span> <strong>{{ $tc('easycredit-payment.intro.introAlert.text') }}</strong> <a href="/admin#/sw/settings/payment/overview">{{ $tc('easycredit-payment.intro.introAlert.activate') }}</a> </sw-alert> <div class="easycredit-marketing__grid"> <div class="sw-card"> <div class="sw-card__content"> <div class="easycredit-marketing intro-2024"> <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <h2>{{ $tc('easycredit-payment.intro.introText.title') }}</h2> <p>{{ $tc('easycredit-payment.intro.introText.text') }}</p> <sw-button variant="primary" link="https://netzkollektiv.com/docs/easycredit-shopware6/index.html" class="mt-button" > {{ $tc('easycredit-payment.intro.introText.documentation') }} </sw-button> <sw-button variant="primary" link="https://easycredit-demo.netzkollektiv.com/" class="mt-button" > {{ $tc('easycredit-payment.intro.introText.demoshop') }} </sw-button> <a href="https://partner.easycredit-ratenkauf.de/registrierung/firmendaten" target="_blank" class="not-decorated">{{ $tc('easycredit-payment.intro.introText.register') }}</a> </div> <div class="easycredit-marketing__image bg fill aspect-2-3"> <img :src="assetFilter('/easycreditratenkauf/static/card-intro-image.png')"> </div> </div> </div> </div> </div> <div class="sw-card dimmed"> <div class="sw-card__content"> <div class="easycredit-marketing intro-2024"> <div class="easycredit-marketing__content"> <h2>{{ $tc('easycredit-payment.intro.introLinks.title') }}</h2> <p>{{ $tc('easycredit-payment.intro.introLinks.text') }}</p> <ul> <li><a href="https://www.easycredit-ratenkauf.de/kontakt/" target="_blank">{{ $tc('easycredit-payment.intro.introLinks.support') }}</a></li> <li><a href="tel:091153902726" target="_blank">{{ $tc('easycredit-payment.intro.introLinks.call-us') }}</a></li> <li><a href="https://www.easycredit-ratenkauf.de/kontakt/#b064f73c4cdfc080a73b69ea0125da53" target="_blank">{{ $tc('easycredit-payment.intro.introLinks.contact-form') }}</a></li> </ul> </div> </div> </div> </div> </div> <div class="sw-card" id="ecbill" v-if="!billPaymentActive || !paymentMethodStatuses['easycredit_rechnung']" > <div class="sw-card__content"> <div class="easycredit-marketing intro-2024"> <div class="easycredit-marketing__grid grid-50-50"> <div class="easycredit-marketing__image bg fill aspect-36-2"> <img :src="assetFilter('/easycreditratenkauf/static/card-easycredit-rechnung-image.png')"> </div> <div class="easycredit-marketing__content"> <span class="badge">Neu</span> <h2>{{ $tc('easycredit-payment.intro.introBill.title') }}</h2> <p>{{ $tc('easycredit-payment.intro.introBill.text') }}</p> <sw-button variant="primary" link="/admin#/sw/settings/payment/overview" target="_self" class="mt-button" v-if="billPaymentActive" > {{ $tc('easycredit-payment.intro.introBill.activate') }} </sw-button> <sw-button variant="primary" link="https://partner.easycredit-ratenkauf.de/portal" class="mt-button" v-if="!billPaymentActive" > {{ $tc('easycredit-payment.intro.introBill.unlock') }} </sw-button> <sw-button variant="context" link="https://www.easycredit-ratenkauf.de/produkt/" class="mt-external-link" > {{ $tc('easycredit-payment.intro.introBill.learnMore') }} <sw-icon name="regular-external-link-s" /> </sw-button> </div> </div> </div> </div> </div> </div>`,{Component:x}=Shopware;x.register("easycredit-intro",{template:I,inject:["EasyCreditRatenkaufApiCredentialsService","repositoryFactory"],data(){return{billPaymentActive:!1,paymentMethodStatuses:{}}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")}},beforeMount(){this.fetchWebshopInfo().then(e=>{this.billPaymentActive=e.billPaymentActive}),this.checkPaymentMethodActivation("easycredit_ratenkauf"),this.checkPaymentMethodActivation("easycredit_rechnung")},methods:{getConfigComponent(){for(var e=this;e.$parent;){if(typeof e.currentSalesChannelId<"u")return e;e=e.$parent}},getConfig(e){return this.getConfigComponent().actualConfigData[e]},getCurrentSalesChannelId(){return this.getConfigComponent().currentSalesChannelId},fetchWebshopInfo(){const e=this.getCurrentSalesChannelId(),t=`https://ratenkauf.easycredit.de/api/payment/v3/webshop/${this.getConfig(e)["EasyCreditRatenkauf.config.webshopId"]||this.getConfig(null)["EasyCreditRatenkauf.settings.webshopId"]}`;return fetch(t).then(i=>i.ok?i.json():Promise.reject(i)).then(i=>i).catch(i=>{console.error("Error fetching webshop info:",i)})},checkPaymentMethodActivation(e){const a=this.repositoryFactory.create("payment_method"),t=new Shopware.Data.Criteria;t.addFilter(Shopware.Data.Criteria.equals("technicalName",e)),a.search(t,Shopware.Context.api).then(i=>{if(i.total>0){const n=i.first();this.paymentMethodStatuses[e]=n.active}else console.error("Payment method not found")}).catch(i=>{console.error("Error fetching payment method:",i)})}}});const E=`{% block netzkollektiv_easycredit_transaction_handling %} <div class="easycredit-marketing easycredit-transaction-handling"> <div class="easycredit-marketing__content"> <sw-inherit-wrapper v-if="!flowBuilderAvailable" v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.markShipped']" :inheritedvalue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.markShipped']" :custominheritationcheckfunction="checkBoolFieldInheritance"> <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.markShipped" {#bordered#} :mapinheritance="props" :label="$tc('easycredit-payment.transactionHandling.capture.label')" :disabled="props.isInherited" :value="props.currentValue" @change="props.updateCurrentValue" bordered></sw-switch-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-if="!flowBuilderAvailable" v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.markRefunded']" :inheritedvalue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.markRefunded']" :custominheritationcheckfunction="checkBoolFieldInheritance"> <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.markRefunded" {#bordered#} :mapinheritance="props" :label="$tc('easycredit-payment.transactionHandling.refund.label')" :disabled="props.isInherited" :value="props.currentValue" @change="props.updateCurrentValue" bordered></sw-switch-field> </template> </sw-inherit-wrapper> <p v-if="flowBuilderAvailable"> {{ $tc('easycredit-payment.transactionHandling.note') }}<br /><br /> <sw-button variant="primary" :routerLink="{ name: 'sw.flow.index', params: { limit: 25, page: 1, term: 'easycredit', sortBy: 'createdAt', sortDirection: 'DESC', naturalSorting: false } }" > {{ $tc('easycredit-payment.transactionHandling.goto') }} Flow Builder <sw-icon name="regular-flow" /> </sw-button> </p> </div> </div> {% endblock %}`,{Component:$}=Shopware;$.register("easycredit-transaction-handling",{template:E,data(){return{flowBuilderAvailable:!0}},created(){this.createdComponent()},methods:{createdComponent(){Shopware.Context.app.config.version.localeCompare("6.4.6.0",void 0,{numeric:!0,sensitivity:"base"})>=0||(this.flowBuilderAvailable=!1)},getConfigComponent(){for(var e=this;e.$parent;){if(typeof e.currentSalesChannelId<"u")return e;e=e.$parent}},getCurrentSalesChannelId(){return this.getConfigComponent().currentSalesChannelId},getConfig(e){return this.getConfigComponent().actualConfigData[e]},checkBoolFieldInheritance(e){return typeof e!="boolean"}}});const{Component:R}=Shopware,{Criteria:o}=Shopware.Data;R.extend("easycredit-payment-status-select","sw-entity-single-select",{methods:{createdComponent(){this.criteria.addAssociation("stateMachine"),this.criteria.addAssociation("toStateMachineTransitions.fromStateMachineState"),this.criteria.addFilter(o.equals("stateMachine.technicalName","order_transaction.state")),this.criteria.addFilter(o.multi("OR",[o.equals("toStateMachineTransitions.fromStateMachineState.technicalName","open"),o.equals("technicalName","open")])),this.loadSelected()}}});const{Component:A}=Shopware,{Criteria:d}=Shopware.Data;A.extend("easycredit-order-status-select","sw-entity-single-select",{methods:{createdComponent(){this.criteria.addAssociation("stateMachine"),this.criteria.addAssociation("toStateMachineTransitions.fromStateMachineState"),this.criteria.addFilter(d.equals("stateMachine.technicalName","order.state")),this.criteria.addFilter(d.multi("OR",[d.equals("toStateMachineTransitions.fromStateMachineState.technicalName","open"),d.equals("technicalName","open")])),this.loadSelected()}}});const T=`{% block netzkollektiv_easycredit_actions_test %} <sw-button-process @click="onTest" v-model:processSuccess="isTestSuccessful" v-model="isTestSuccessful" :isLoading="isTesting" :disabled="testButtonDisabled"> {{ $tc('easycredit.settingForm.test') }} </sw-button-process> {% endblock %}`,{Mixin:V}=Shopware;Shopware.Component.register("easycredit-test-credentials-button",{template:T,mixins:[V.getByName("notification")],inject:["EasyCreditRatenkaufApiCredentialsService"],data(){return{isLoading:!1,isTesting:!1,isTestSuccessful:!1,testButtonDisabled:!1}},metaInfo(){return{title:this.$createTitle()}},methods:{getConfigComponent(){for(var e=this;e.$parent;){if(typeof e.currentSalesChannelId<"u")return e;e=e.$parent}},getConfig(e){return this.getConfigComponent().actualConfigData[e]},getCurrentSalesChannelId(){return this.getConfigComponent().currentSalesChannelId},onTest(){this.isTesting=!0;const e=this.getCurrentSalesChannelId(),a=this.getConfig(e)["EasyCreditRatenkauf.config.webshopId"]||this.getConfig(null)["EasyCreditRatenkauf.settings.webshopId"],t=this.getConfig(e)["EasyCreditRatenkauf.config.apiPassword"]||this.getConfig(null)["EasyCreditRatenkauf.settings.apiPassword"],i=this.getConfig(e)["EasyCreditRatenkauf.config.apiSignature"]||this.getConfig(null)["EasyCreditRatenkauf.settings.apiSignature"];this.EasyCreditRatenkaufApiCredentialsService.validateApiCredentials(a,t,i).then(n=>{n.credentialsValid&&(this.isTesting=!1,this.isTestSuccessful=!0)}).catch(n=>{if(n.response.data&&n.response.data.errors){let r=`${this.$tc("easycredit.settingForm.messageTestError")}<br><ul>`;n.response.data.errors.forEach(f=>{r=`${r}<li><strong>${f.detail}</strong></li>`}),r+="</li>",this.createNotificationError({title:this.$tc("easycredit.settingForm.titleSaveError"),message:r}),this.isTesting=!1,this.isTestSuccessful=!1}})}}});const F=`<div class="easycredit-marketing clickandcollect"> <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content" v-html="$tc('easycredit-payment.clickAndCollect.introText')"> </div> <div class="easycredit-marketing__image bg"> <img :src="assetFilter('/easycreditratenkauf/static/ratenkauf-clickandcollect.png')"> </div> </div> </div>`,{Component:P}=Shopware;P.register("easycredit-click-and-collect-intro",{computed:{assetFilter(){return Shopware.Filter.getByName("asset")}},template:F});const M=`{% block netzkollektiv_easycredit_marketing %} <div class="easycredit-marketing"> <nav class="easycredit-marketing__tabs"> <a v-for="(tab, index) in tabs" :key="index" class="easycredit-marketing__tab" :class="{ active: selectedTab === tab.id }" @click="selectTab(tab.id)" > {{ tab.title }} </a> </nav> <div class="easycredit-marketing__tab-content intro" :class="{ active: selectedTab === 'intro' }" > <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <p> {{ $tc('easycredit-payment.marketing.overview.introText') }} </p> <h3>{{ $tc('easycredit-payment.marketing.overview.introLinks.title') }}</h3> <ul> <li><a href="https://netzkollektiv.com/docs/easycredit-ratenkauf-components/" target="_blank">{{ $tc('easycredit-payment.marketing.overview.introLinks.documentation') }}</a></li> <li><a href="https://easycredit-demo.netzkollektiv.com/" target="_blank">{{ $tc('easycredit-payment.marketing.overview.introLinks.demoshop') }}</a></li> <li><a href="https://www.easycredit-ratenkauf.de/marketingmaterial-schulung/" target="_blank">{{ $tc('easycredit-payment.marketing.overview.introLinks.marketingPortal') }}</a></li> </ul> </div> <div class="easycredit-marketing__image"> <img :src="assetFilter('/easycreditratenkauf/static/easycredit-marketing-modal.png')"> </div> </div> </div> <div class="easycredit-marketing__tab-content express" :class="{ active: selectedTab === 'express' }" > <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <p> {{ $tc('easycredit-payment.marketing.express.introText') }} </p> <h3>{{ $tc('easycredit-payment.marketing.express.fieldsActivate.title') }}</h3> {% block netzkollektiv_easycredit_marketing_express_fields_activation %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.expressProductEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.expressProductEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.expressProductEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.expressProductEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.express.fieldsActivate.expressProductLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-switch-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.expressCartEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.expressCartEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.expressCartEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.expressCartEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.express.fieldsActivate.expressCartLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-switch-field> </template> </sw-inherit-wrapper> {% endblock %} </div> <div class="easycredit-marketing__image bg"> <img :src="assetFilter('/easycreditratenkauf/static/easycredit-marketing-express-button.png')"> </div> </div> </div> <div class="easycredit-marketing__tab-content widget" :class="{ active: selectedTab === 'widget' }" > <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <p> {{ $tc('easycredit-payment.marketing.widget.introText') }} </p> <h3>{{ $tc('easycredit-payment.marketing.widget.fieldsActivate.title') }}</h3> {% block netzkollektiv_easycredit_marketing_widget_fields_activation %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.widgetEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.widgetEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.widget.fieldsActivate.showLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-switch-field> </template> </sw-inherit-wrapper> {% endblock %} <h3>{{ $tc('easycredit-payment.marketing.widget.fieldsSettings.title') }}</h3> {% block netzkollektiv_easycredit_marketing_widget_fields_settings %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorProductDetail']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorProductDetail']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.widgetSelectorProductDetail']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-text-field name="EasyCreditRatenkauf.config.widgetSelectorProductDetail" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.widget.fieldsSettings.selectorProduct.label')" :helpText="$tc('easycredit-payment.marketing.widget.fieldsSettings.helpTextSelector') + '.product-detail-buy .product-detail-tax-container'" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-text-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorProductListing']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorProductListing']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.widgetSelectorProductListing']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-text-field name="EasyCreditRatenkauf.config.widgetSelectorProductListing" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.widget.fieldsSettings.selectorProductListing.label')" :helpText="$tc('easycredit-payment.marketing.widget.fieldsSettings.helpTextSelector') + '.cms-element-product-listing .product-box .product-price-wrapper easycredit-widget[display-type=minimal]'" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-text-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorCart']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorCart']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.widgetSelectorCart']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-text-field name="EasyCreditRatenkauf.config.widgetSelectorCart" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.widget.fieldsSettings.selectorCart.label')" :helpText="$tc('easycredit-payment.marketing.widget.fieldsSettings.helpTextSelector') + '.checkout-aside-action:not(.d-grid)'" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-text-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorOffCanvasCart']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.widgetSelectorOffCanvasCart']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.widgetSelectorOffCanvasCart']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-text-field name="EasyCreditRatenkauf.config.widgetSelectorOffCanvasCart" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.widget.fieldsSettings.selectorOffCanvasCart.label')" :helpText="$tc('easycredit-payment.marketing.widget.fieldsSettings.helpTextSelector') + '.offcanvas-summary easycredit-widget[display-type=minimal]'" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-text-field> </template> </sw-inherit-wrapper> {% endblock %} </div> <div class="easycredit-marketing__image bg"> <img :src="assetFilter('/easycreditratenkauf/static/easycredit-marketing-widget.png')"> </div> </div> </div> <div class="easycredit-marketing__tab-content modal" :class="{ active: selectedTab === 'modal' }" > <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <p> {{ $tc('easycredit-payment.marketing.modal.introText') }} </p> <h3>{{ $tc('easycredit-payment.marketing.modal.fieldsActivate.title') }}</h3> {% block netzkollektiv_easycredit_marketing_modal_fields_activation %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.modalEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.modalEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.modal.fieldsActivate.showLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-switch-field> </template> </sw-inherit-wrapper> {% endblock %} <h3>{{ $tc('easycredit-payment.marketing.modal.fieldsSettings.title') }}</h3> {% block netzkollektiv_easycredit_marketing_modal_fields_settings %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalSettingsDelay']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalSettingsDelay']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.modalSettingsDelay']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-text-field name="EasyCreditRatenkauf.config.modalSettingsDelay" {#bordered#} {#min="0" step="1"#} placeholder="0" @keyup="textToNumber(event)" :mapInheritance="props" :label="$tc('easycredit-payment.marketing.modal.fieldsSettings.delayLabel')" :helpText="$tc('easycredit-payment.marketing.modal.fieldsSettings.delayHelpText')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-text-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalSettingsSnoozeFor']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalSettingsSnoozeFor']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.modalSettingsSnoozeFor']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-text-field name="EasyCreditRatenkauf.config.modalSettingsSnoozeFor" {#bordered#} {#min="0" step="1"#} placeholder="0" @keyup="textToNumber(event)" :mapInheritance="props" :label="$tc('easycredit-payment.marketing.modal.fieldsSettings.reactivationLabel')" :helpText="$tc('easycredit-payment.marketing.modal.fieldsSettings.reactivationHelpText')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} > </sw-text-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalSettingsMedia']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.modalSettingsMedia']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.modalSettingsMedia']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-help-text :text="$tc('easycredit-payment.marketing.modal.fieldsSettings.mediaHelpText')" :width="200" tooltipPosition="top" :showDelay="100" :hideDelay="100" ></sw-help-text> <sw-media-field name="EasyCreditRatenkauf.config.modalSettingsMedia" bordered :mapInheritance="props" :label="$tc('easycredit-payment.marketing.modal.fieldsSettings.mediaLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" v-model="props.currentValue" {# vue2-legacy #} @media-id-change="props.updateCurrentValue" {# vue2-legacy #} ></sw-media-field> </template> </sw-inherit-wrapper> {% endblock %} </div> <div class="easycredit-marketing__image bg"> <img :src="assetFilter('/easycreditratenkauf/static/easycredit-marketing-modal.png')"> </div> </div> </div> <div class="easycredit-marketing__tab-content card" :class="{ active: selectedTab === 'card' }" > <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <p> {{ $tc('easycredit-payment.marketing.card.introText') }} </p> <h3>{{ $tc('easycredit-payment.marketing.card.fieldsActivate.title') }}</h3> {% block netzkollektiv_easycredit_marketing_card_fields_activation %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.cardEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.cardEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.card.fieldsActivate.showCategoryLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-switch-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardSearchEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardSearchEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.cardSearchEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.cardSearchEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.card.fieldsActivate.showSearchLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} > </sw-switch-field> </template> </sw-inherit-wrapper> {% endblock %} <h3>{{ $tc('easycredit-payment.marketing.card.fieldsSettings.title') }}</h3> {% block netzkollektiv_easycredit_marketing_card_fields_settings %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardSettingsPosition']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardSettingsPosition']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.cardSettingsPosition']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-text-field name="EasyCreditRatenkauf.config.cardSettingsPosition" {#bordered#} {#min="1" step="1"#} placeholder="1" @keyup="textToNumber(event)" :mapInheritance="props" :label="$tc('easycredit-payment.marketing.card.fieldsSettings.positionLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-text-field> </template> </sw-inherit-wrapper> <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardSettingsMedia']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.cardSettingsMedia']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.cardSettingsMedia']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-help-text :text="$tc('easycredit-payment.marketing.card.fieldsSettings.mediaHelpText')" :width="200" tooltipPosition="top" :showDelay="100" :hideDelay="100" ></sw-help-text> <sw-media-field name="EasyCreditRatenkauf.config.cardSettingsMedia" :mapInheritance="props" :label="$tc('easycredit-payment.marketing.card.fieldsSettings.mediaLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" v-model="props.currentValue" {# vue2-legacy #} @media-id-change="props.updateCurrentValue" {# vue2-legacy #} ></sw-media-field> </template> </sw-inherit-wrapper> {% endblock %} </div> <div class="easycredit-marketing__image bg"> <img :src="assetFilter('/easycreditratenkauf/static/easycredit-marketing-card.png')"> </div> </div> </div> <div class="easycredit-marketing__tab-content flashbox" :class="{ active: selectedTab === 'flashbox' }" > <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <p> {{ $tc('easycredit-payment.marketing.flashbox.introText') }} </p> <h3>{{ $tc('easycredit-payment.marketing.flashbox.fieldsActivate.title') }}</h3> {% block netzkollektiv_easycredit_marketing_flashbox_fields_activation %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.flashboxEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.flashboxEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.flashboxEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.flashboxEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.flashbox.fieldsActivate.showLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-switch-field> </template> </sw-inherit-wrapper> {% endblock %} <h3>{{ $tc('easycredit-payment.marketing.flashbox.fieldsSettings.title') }}</h3> {% block netzkollektiv_easycredit_marketing_flashbox_fields_settings %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.flashboxSettingsMedia']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.flashboxSettingsMedia']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.flashboxSettingsMedia']" :customInheritationCheckFunction="checkTextFieldInheritance" > <template #content="props"> <sw-help-text :text="$tc('easycredit-payment.marketing.flashbox.fieldsSettings.mediaHelpText')" :width="200" tooltipPosition="top" :showDelay="100" :hideDelay="100" ></sw-help-text> <sw-media-field name="EasyCreditRatenkauf.config.flashboxSettingsMedia" :mapInheritance="props" :label="$tc('easycredit-payment.marketing.flashbox.fieldsSettings.mediaLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" v-model="props.currentValue" {# vue2-legacy #} @media-id-change="props.updateCurrentValue" {# vue2-legacy #} ></sw-media-field> </template> </sw-inherit-wrapper> {% endblock %} </div> <div class="easycredit-marketing__image bg"> <img :src="assetFilter('/easycreditratenkauf/static/easycredit-marketing-flashbox.png')"> </div> </div> </div> <div class="easycredit-marketing__tab-content bar" :class="{ active: selectedTab === 'bar' }" > <div class="easycredit-marketing__grid"> <div class="easycredit-marketing__content"> <p> {{ $tc('easycredit-payment.marketing.bar.introText') }} </p> <h3>{{ $tc('easycredit-payment.marketing.bar.fieldsActivate.title') }}</h3> {% block netzkollektiv_easycredit_marketing_bar_fields_activation %} <sw-inherit-wrapper v-model="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.barEnabled']" {# vue2-legacy #} v-model:value="getConfig(getCurrentSalesChannelId())['EasyCreditRatenkauf.config.barEnabled']" :inheritedValue="getCurrentSalesChannelId() == null ? null : getConfig(null)['EasyCreditRatenkauf.config.barEnabled']" :customInheritationCheckFunction="checkBoolFieldInheritance" > <template #content="props"> <sw-switch-field name="EasyCreditRatenkauf.config.barEnabled" {#bordered#} :mapInheritance="props" :label="$tc('easycredit-payment.marketing.bar.fieldsActivate.showLabel')" :disabled="props.isInherited" :value="props.currentValue" @update:value="props.updateCurrentValue" @change="props.updateCurrentValue" {# vue2-legacy #} ></sw-switch-field> </template> </sw-inherit-wrapper> {% endblock %} </div> <div class="easycredit-marketing__image bg"> <img :src="assetFilter('/easycreditratenkauf/static/easycredit-marketing-bar.png')"> </div> </div> </div> </div> {% endblock %}`,{Component:L,Context:ne}=Shopware;L.register("easycredit-marketing",{template:M,inject:["systemConfigApiService"],mixins:["notification"],data(){return{selectedTab:null,tabs:[{id:"intro",title:this.$tc("easycredit-payment.marketing.overview.title")},{id:"express",title:this.$tc("easycredit-payment.marketing.express.title")},{id:"widget",title:this.$tc("easycredit-payment.marketing.widget.title")},{id:"modal",title:this.$tc("easycredit-payment.marketing.modal.title")},{id:"card",title:this.$tc("easycredit-payment.marketing.card.title")},{id:"flashbox",title:this.$tc("easycredit-payment.marketing.flashbox.title")},{id:"bar",title:this.$tc("easycredit-payment.marketing.bar.title")}],isLoading:!1,config:{}}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")}},methods:{selectTab(e){this.selectedTab=e},selectInitialTab(){this.selectedTab=this.tabs[0].id},getConfigComponent(){for(var e=this;e.$parent;){if(typeof e.currentSalesChannelId<"u")return e;e=e.$parent}},getCurrentSalesChannelId(){return this.getConfigComponent().currentSalesChannelId},getConfig(e){return this.getConfigComponent().actualConfigData[e]},textToNumber(e){var a=e.target,t=a.value;t&&(a.value=t.replace(/[^\d]/,""))},checkTextFieldInheritance(e){return typeof e!="string"?!0:e.length<=0},checkBoolFieldInheritance(e){return typeof e!="boolean"}},mounted(){this.selectInitialTab()}});const D=`{% block sw_order_detail_content_tabs_general %} {% parent %} <sw-tabs-item v-if="isEasyCreditPayment" :route="{ name: 'netzkollektiv.easycredit.payment.detail', params: { id: $route.params.id } }" :title="$tc('easycredit.header')"> {{ $tc('easycredit.header') }} </sw-tabs-item> {% endblock %}`,{Component:B,Context:l}=Shopware,c=Shopware.Data.Criteria;B.override("sw-order-detail",{template:D,data(){return{isEasyCreditPayment:!1}},computed:{showTabs(){return!0}},watch:{orderId:{deep:!0,handler(){if(!this.orderId){this.setIsEasyCreditPayment(null);return}const e=this.repositoryFactory.create("order"),a=new c(1,1);a.addAssociation("transactions"),a.getAssociation("transactions").addSorting(c.sort("createdAt")),e.get(this.orderId,l.api,a).then(t=>{const i=t.transactions.length,n=i-1;if(i<=0||!t.transactions[n].paymentMethodId){this.setIsEasyCreditPayment(null);return}const r=t.transactions[n].paymentMethodId;r!=null&&(this.setIsEasyCreditPayment(r),this.order=t)})},immediate:!0}},methods:{setIsEasyCreditPayment(e){if(!e)return;this.repositoryFactory.create("payment_method").get(e,l.api).then(t=>{this.isEasyCreditPayment=s(t)})}}});const z='{% block sw_order_detail_base_status_change_order %} {% parent %} <easycredit-tx-widget v-if="isEasyCreditPayment" :order="order" /> {% endblock %}',{Component:N}=Shopware;N.override("sw-order-detail-base",{template:z,computed:{isEasyCreditPayment(){let e=this.order.transactions;return e.length==1&&s(e[0].paymentMethod)}}});const q=`{% block sw_order_detail_details_shipping_address %} <div class="sw-field" v-if="isEasyCreditPayment"> <div class="sw-field__label"> <label>{{ $tc('sw-order.createBase.detailsFooter.labelShippingMethod') }}</label> </div> <div class="sw-order-address-selection__information"> <p>{{ shippingAddress.firstName }} {{ shippingAddress.lastName }}</p> <p> {{ shippingAddress.street }} </p> <p> {{ shippingAddress.zipcode }} {{ shippingAddress.city }} </p> <br> </div> <div> <p><strong>Die Versandadresse kann bei Bestellungen, die mit easyCredit bezahlt wurden, nicht nachträglich verändert werden.</strong></p> </div> </div> <template v-else> {% parent %} </template> {% endblock %}`,{Component:H}=Shopware;H.override("sw-order-detail-details",{template:q,computed:{isEasyCreditPayment(){let e=this.order.transactions;return e.length==1&&s(e[0].paymentMethod)}}});const O='{% block sw_order_detail_base_general_info_order_states_order %} {% parent %} <div class="sw-order-general-info__order-state"> <easycredit-tx-widget v-if="isEasyCreditPayment" :order="order" /> </div> {% endblock %}',{Component:j}=Shopware;j.override("sw-order-general-info",{template:O,computed:{isEasyCreditPayment(){let e=this.order.transactions;return e.length==1&&s(e[0].paymentMethod)}}});const W='{% block sw_order_detail_base_order_overview_billing_address %} <div class="easycredit-no-edit" v-if="isEasyCreditPayment && isEditing"> {% parent %} <dd><strong>Die Rechnungs- und Versandadresse kann bei Bestellungen, die mit easyCredit bezahlt wurden, nicht nachträglich verändert werden.</strong></dd> </div> <template v-else> {% parent %} </template> {% endblock %} {% block sw_order_detail_base_order_overview_shipping_address %} <div class="easycredit-no-edit" v-if="isEasyCreditPayment && isEditing"> {% parent %} </div> <template v-else> {% parent %} </template> {% endblock %}',{Component:U}=Shopware;U.override("sw-order-user-card",{template:W,computed:{isEasyCreditPayment(){let e=this.currentOrder.transactions;return e.length==1&&s(e[0].paymentMethod)}}});const Z=`{% block netzkollektiv_easycredit_payment_detail %} <div class="easycredit-payment-detail"> <div v-if="!isLoading"> <sw-card :title="$tc('easycredit-payment.paymentDetails.cardTitle')"> <sw-card-section> <sw-container columns="300px 1fr" gap="0px 30px"> <easycredit-tx-widget :order="order" componentType="manager" /> </sw-container> </sw-card-section> </sw-card> </div> <sw-loader v-if="isLoading"> </sw-loader> </div> {% endblock %}`,{Component:G,Filter:re,Mixin:Q,Context:J}=Shopware,p=Shopware.Data.Criteria;G.register("easycredit-payment-detail",{template:Z,mixins:[Q.getByName("notification")],inject:["repositoryFactory"],watch:{$route(){this.resetDataAttributes(),this.createdComponent()}},data(){return{isLoading:!0,order:null}},created(){this.createdComponent()},methods:{createdComponent(){const e=this.$route.params.id,a=this.repositoryFactory.create("order"),t=new p(1,1);t.addAssociation("transactions.stateMachineState"),t.addAssociation("transactions.paymentMethod"),t.getAssociation("transactions").addSorting(p.sort("createdAt")),a.get(e,J.api,t).then(i=>{this.order=i,this.isLoading=!1})}}});const{Module:K}=Shopware;K.register("easycredit-payment",{type:"plugin",name:"EasyCreditRatenkauf",description:"easycredit-payment.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#2b52ff",routeMiddleware(e,a){a.name==="sw.order.detail"&&a.children.push({component:"easycredit-payment-detail",name:"netzkollektiv.easycredit.payment.detail",isChildren:!0,path:"/sw/order/easycredit/detail/:id",meta:{parentPath:"sw.order.index",privilege:"order.viewer"}}),e(a)}});const u=Object.freeze({HANDLE:"action.easycredit.capture",LABEL:"Capture transaction",ICON:"regular-user"}),g=Object.freeze({HANDLE:"action.easycredit.refund",LABEL:"Refund transaction",ICON:"regular-envelope"}),m="order",{Component:X}=Shopware;X.override("sw-flow-sequence-action",{computed:{actionDescription(){return{...this.$super("actionDescription"),[u.HANDLE]:this.$tc("easycredit.flow-actions.capture"),[g.HANDLE]:this.$tc("easycredit.flow-actions.refund")}}},methods:{getActionTitle(e){return e===u.HANDLE?{value:e,icon:"default-symbol-euro",label:this.$tc("easycredit.flow-actions.capture"),group:m}:e===g.HANDLE?{value:e,icon:"default-arrow-360-full",label:this.$tc("easycredit.flow-actions.refund"),group:m}:this.$super("getActionTitle",e)}}});const Y=`{% block easycredit_capture_action_modal_modal %} <sw-modal class="easycredit-capture-action-modal" :title="$tc('easycredit-capture-action.titleCreateTag')" @modal-close="onClose" > {% block easycredit_capture_action_modal_modal_content %} <p> {{ $tc('easycredit-capture-action.description') }} </p> {% endblock %} {% block easycredit_capture_action_modal_modal_footer %} <template #modal-footer> {% block easycredit_capture_action_modal_modal_footer_cancel_button %} <sw-button class="easycredit-capture-action-modal__cancel-button" size="small" @click="onClose" > {{ $tc('global.default.cancel') }} </sw-button> {% endblock %} {% block easycredit_capture_action_modal_modal_footer_save_button %} <sw-button class="easycredit-capture-action-modal__save-button" variant="primary" size="small" @click="onAddAction" > {{ sequence.id ? $tc('easycredit-capture-action.buttonSaveAction') : $tc('easycredit-capture-action.buttonAddAction') }} </sw-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %}`,{Component:ee}=Shopware;ee.register("sw-flow-easycredit-capture-modal",{template:Y,props:{sequence:{type:Object,required:!0}},methods:{onClose(){this.$emit("modal-close")},onAddAction(){const e={...this.sequence,config:{...this.config}};this.$emit("process-finish",e)}}});const te=`{% block easycredit_refund_action_modal_modal %} <sw-modal class="easycredit-refund-action-modal" :title="$tc('easycredit-refund-action.titleCreateTag')" @modal-close="onClose" > {% block easycredit_refund_action_modal_modal_content %} <p> {{ $tc('easycredit-refund-action.description') }} </p> {% endblock %} {% block easycredit_refund_action_modal_modal_footer %} <template #modal-footer> {% block easycredit_refund_action_modal_modal_footer_cancel_button %} <sw-button class="easycredit-refund-action-modal__cancel-button" size="small" @click="onClose" > {{ $tc('global.default.cancel') }} </sw-button> {% endblock %} {% block easycredit_refund_action_modal_modal_footer_save_button %} <sw-button class="easycredit-refund-action-modal__save-button" variant="primary" size="small" @click="onAddAction" > {{ sequence.id ? $tc('easycredit-refund-action.buttonSaveAction') : $tc('easycredit-refund-action.buttonAddAction') }} </sw-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %}`,{Component:ae}=Shopware;ae.register("sw-flow-easycredit-refund-modal",{template:te,props:{sequence:{type:Object,required:!0}},methods:{onClose(){this.$emit("modal-close")},onAddAction(){const e={...this.sequence,config:{...this.config}};this.$emit("process-finish",e)}}});const h=Shopware.Classes.ApiService;class ie extends h{constructor(a,t,i="easycredit"){super(a,t,i)}validateApiCredentials(a,t,i){const n=this.getBasicHeaders();return this.httpClient.get(`/_action/${this.getApiBasePath()}/validate-api-credentials`,{params:{webshopId:a,apiPassword:t,apiSignature:i},headers:n}).then(r=>h.handleResponse(r))}}const{Application:y}=Shopware;y.addServiceProvider("EasyCreditRatenkaufApiCredentialsService",e=>{const a=y.getContainer("init");return new ie(a.httpClient,e.loginService)});Shopware.Application.addServiceProviderDecorator("ruleConditionDataProviderService",e=>(e.addCondition("cartCartAmountWithoutInterest",{component:"sw-condition-cart-amount",label:"easycredit.rule.cartAmountRule",scopes:["cart"],group:"cart"}),e.addCondition("cartPositionPriceWithoutInterest",{component:"sw-condition-cart-position-price",label:"easycredit.rule.cartPositionPrice",scopes:["cart"],group:"cart"}),e.addModuleType({id:"easycredit-flexprice",name:"easycredit.rule.flexPriceType"}),e));
//# sourceMappingURL=easy-credit-ratenkauf-D4ICyXcb.js.map
